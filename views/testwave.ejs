<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Platform</title>
    <style>
        *
        {
          padding: 0;
          margin: 0;
          font-family: 'poppins', sans-serif;
        }

        .track
        {
          display: flex;
          border-radius: 5px;
          background-color: #a9a9a9;
          height: 20%;
          width: 40%;
          margin: 10px 25px 5px 25px;
        }

        .wave
        {
          display: block;
          width: 80%;
          min-width: 50px;
          max-width: 800px;
          height: 20%;
          min-height: 50px;
          max-height: 400px;
          margin: 5px 2px 10px 35px;
        }

        .controls {
            display: block;
            align-items: left;
            margin-top: 5px;
            padding: 5px 0;
        }

        .controls button, .controls input {
            margin-right: 10px;
        }


        body {
      padding-top: 56px; /* Adjust this value based on your header height */
    }

    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 20%;
      background-color: #f8f9fa; /* Adjust background color as needed */
      padding: 20px;
      overflow-y: auto;
      z-index: 1000;
    }

    .sidebar h4 {
      font-weight: bold;
      font-size: 16px;
      margin-bottom: 10px;
    }

    .sidebar ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    .sidebar li {
      font-size: 16px;
      margin-bottom: 8px;
    }

    .navbar {
      z-index: 999;
    }
    </style>
    <script src="https://unpkg.com/wavesurfer.js@7/dist/wavesurfer.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
  
    <div class="container mt-5">


        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"> 
                <div class="card h-100 w-100">
                    <div class="card-body">
                        <h5 class="card-title">Track Title 1</h5>
                        <p class="card-text">Artist Name</p>
                        <div id="waveform1" class="wave"></div>
                        <ul class="controls list-group list-group-horizontal">
                            <li class="list-group-item"><button id="playPauseBtn1" class="btn btn-primary">Play</button></li>
                            <li class="list-group-item"><input type="range" id="loudness1" value="50" /></li>
                            <li class="list-group-item"><button id="pitchDownBtn1" class="btn btn-secondary">Pitch Down</button></li>
                           <li class="list-group-item"> <button id="pitchUpBtn1" class="btn btn-secondary">Pitch Up</button></li>
                         </ul>
                         <ul class="list-group list-group-horizontal">
                            <li class="list-group-item"><button id="downloadBtn1" class="btn btn-success">Download</button></li>
                            <li class="list-group-item"><p id="trackLength1">Track Length:</p></li>
                           <li class="list-group-item"><p id="trackKey1">Track Key: </p></li>
                            <li class="list-group-item"><p id="trackBPM1">Track BPM: </p></li>
                        </ul>
                    </div>
                </div>
              </div>

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"> 
                <div class="card h-100 w-100">
                    <div class="card-body">
                        <h5 class="card-title">Track Title 2</h5>
                        <p class="card-text">Artist Name 2</p>
                        <div id="waveform2" class="wave"></div>
                        <ul class="controls list-group list-group-horizontal">
                            <li class="list-group-item"><button id="playPauseBtn2" class="btn btn-primary">Play</button></li>
                            <li class="list-group-item"><input type="range" id="loudness2" value="50" /></li>
                            <li class="list-group-item"><button id="pitchDownBtn2" class="btn btn-secondary">Pitch Down</button></li>
                           <li class="list-group-item"> <button id="pitchUpBtn2" class="btn btn-secondary">Pitch Up</button></li>
                         </ul>
                         <ul class="list-group list-group-horizontal">
                            <li class="list-group-item"><button id="downloadBtn2" class="btn btn-success">Download</button></li>
                            <li class="list-group-item"><p id="trackLength2">Track Length:</p></li>
                           <li class="list-group-item"><p id="trackKey2">Track Key: </p></li>
                            <li class="list-group-item"><p id="trackBPM2">Track BPM: </p></li>
                        </ul>
                    </div>
                </div>
              </div>


              <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"> 
                <div class="card h-100 w-100">
                    <div class="card-body">
                        <h5 class="card-title">Track Title 3</h5>
                        <p class="card-text">Artist Name 3</p>
                        <div id="waveform3" class="wave"></div>
                        <ul class="controls list-group list-group-horizontal">
                            <li class="list-group-item"><button id="playPauseBtn3" class="btn btn-primary">Play</button></li>
                            <li class="list-group-item"><input type="range" id="loudness3" value="50" /></li>
                            <li class="list-group-item"><button id="pitchDownBtn3" class="btn btn-secondary">Pitch Down</button></li>
                           <li class="list-group-item"> <button id="pitchUpBtn3" class="btn btn-secondary">Pitch Up</button></li>
                         </ul>
                         <ul class="list-group list-group-horizontal">
                            <li class="list-group-item"><button id="downloadBtn3" class="btn btn-success">Download</button></li>
                            <li class="list-group-item"><p id="trackLength3">Track Length:</p></li>
                           <li class="list-group-item"><p id="trackKey3">Track Key: </p></li>
                            <li class="list-group-item"><p id="trackBPM3">Track BPM: </p></li>
                        </ul>
                    </div>
                </div>
              </div>



 
    </div>

    <script>
        const waveformElements = document.querySelectorAll('[id^="waveform"]');
        const numberOfWaveforms = waveformElements.length;
        const wavesurfers = [];

for (let i = 1; i <= numberOfWaveforms; i++) {
    const wavesurfer = WaveSurfer.create({
        container: `#waveform${i}`,
        responsive: true,
        height: 60,
        waveColor: 'violet',
        progressColor: 'purple',
    });

    wavesurfer.load(`tracks/track${i}.mp3`);

    const playPauseBtn = document.getElementById(`playPauseBtn${i}`);
    playPauseBtn.addEventListener('click', () => {
        wavesurfer.playPause();
        playPauseBtn.innerText = wavesurfer.isPlaying() ? 'Pause' : 'Play';
    });

    const loudnessInput = document.getElementById(`loudness${i}`);
    loudnessInput.addEventListener('input', () => {
        wavesurfer.setVolume(loudnessInput.value / 100);
    });

    const pitchDownBtn = document.getElementById(`pitchDownBtn${i}`);
    pitchDownBtn.addEventListener('click', () => {
        // Implement pitch down logic
        wavesurfer.setPlaybackRate(wavesurfer.getPlaybackRate() - 0.1);
    });

    const pitchUpBtn = document.getElementById(`pitchUpBtn${i}`);
    pitchUpBtn.addEventListener('click', () => {
        // Implement pitch up logic
        wavesurfer.setPlaybackRate(wavesurfer.getPlaybackRate() + 0.1);
    });

    const downloadBtn = document.getElementById(`downloadBtn${i}`);
    downloadBtn.addEventListener('click', () => {    });


    // Track information (replace with actual data)
    const trackLength = document.getElementById(`trackLength${i}`);
    trackLength.innerText = 'Track Length: 3:45';

    const trackKey = document.getElementById(`trackKey${i}`);
    trackKey.innerText = 'Track Key: C Major';

    const trackBPM = document.getElementById(`trackBPM${i}`);
    trackBPM.innerText = 'Track BPM: 120';

    wavesurfers.push(wavesurfer);
    }
    </script>
</body>
</html>
